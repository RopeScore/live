<div
  class="table"
  v-if="loaded.config && loaded.participants && loaded.scores && loaded.ranks">
  <table name="overall" class="mt">
    <thead>
      <tr>
        <th bold="true" :colspan="(anyMembers ? 4 : 3) + colCount() + 3">{{ config.name }}
          Overall Scores</th>
      </tr>
      <tr>
        <th :colspan="(anyMembers ? 4 : 3)" rowspan="2"></th>
        <th v-if="hasType('sr')" :colspan="colCount('sr')">Single Rope</th>
        <th v-if="hasType('dd')" :colspan="colCount('dd')">Double Dutch</th>
        <th colspan="3" rowspan="2">Overall</th>
      </tr>
      <tr>
        <th colspan="2" v-for="event in sortedEvents">{{ trim(unabbr(event.abbr)) }}</th>
      </tr>
      <tr>
        <th>{{ (anyMembers ? 'Team ' : '') }}Name</th>
        <th v-show="anyMembers">Team Members</th>
        <th>Club</th>
        <th>id</th>

        <template v-for="event in sortedEvents">
          <th class="gray" v-if="showCol(event.abbr, 'rq')">Req El</th>
          <th class="gray" v-if="showCol(event.abbr, 'pres')">Pres</th>
          <th class="gray" v-if="showCol(event.abbr, 'diff')">Diff</th>
          <th class="gray" v-if="showCol(event.abbr, 'deduc')">Deduc</th>
          <th class="gray" v-if="showCol(event.abbr, 'cScore')">Crea - Deduc/2</th>
          <th class="gray" v-if="showCol(event.abbr, 'cRank')">Rank</th>
          <th class="gray" v-if="showCol(event.abbr, 'dScore')">Diff - Deduc/2</th>
          <th class="gray" v-if="showCol(event.abbr, 'dRank')">Rank</th>

          <th v-if="showCol(event.abbr, 'score')">Score</th>
          <th class="green" v-if="showCol(event.abbr, 'rsum')">Rank Sum</th>
          <th class="red" v-if="showCol(event.abbr, 'rank')">Rank</th>
        </template>

        <th>Score</th>
        <th class="green">Rank Sum</th>
        <th class="red">Rank</th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="score in ranked">
        <td>{{ (participants[score.uid] ? participants[score.uid].name : '') }}</td>
        <td v-show="anyMembers">{{ (participants[score.uid] ? participants[score.uid].members : '') }}</td>
        <td>{{ (participants[score.uid] ? participants[score.uid].club : '') }}</td>
        <td>{{ score.uid }}</td>

        <template v-for="event in sortedEvents">
          <td class="gray" v-if="showCol(event.abbr, 'rq')">{{ (score.events[event.abbr] ? score.events[event.abbr].T3 || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'pres')">{{ (score.events[event.abbr] ? score.events[event.abbr].T2 || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'diff')">{{ (score.events[event.abbr] ? score.events[event.abbr].T1 || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'deduc')">{{ (score.events[event.abbr] ? score.events[event.abbr].T5 || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'cScore')">{{ (score.events[event.abbr] ? score.events[event.abbr].cScore || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'cRank')">{{ (score.events[event.abbr] ? score.events[event.abbr].cRank || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'dScore')">{{ (score.events[event.abbr] ? score.events[event.abbr].dScore || '' : '') }}</td>
          <td class="gray" v-if="showCol(event.abbr, 'dRank')">{{ (score.events[event.abbr] ? score.events[event.abbr].dRank || '' : '') }}</td>
          <td ng-if="showCol(event.abbr, 'score')">{{ (score.events[event.abbr] ? (typeof score.events[event.abbr].Y !== 'undefined' ? score.events[event.abbr].Y : score.events[event.abbr].A) : '') }}</td>

          <td class="green" v-if="showCol(event.abbr, 'rsum')">{{ (score.events[event.abbr] ? score.events[event.abbr].rsum || '' : '') }}</td>
          <td class="red" v-if="showCol(event.abbr, 'rank')">{{ (score.events[event.abbr] ? score.events[event.abbr].rank || '' : '') }}</td>
        </template>

        <td>{{ (typeof score.score !== 'undefined' ? score.score : '') }}</td>
        <td class="green">{{ (typeof score.rsum !== 'undefined' ? score.rsum : '') }}</td>
        <td class="red">{{ (typeof score.rank !== 'undefined' ? score.rank : '') }}</td>
      </tr>
    </tbody>
  </table>
</div>
<div v-else="v-else">
  <div class="pc">
    <div id="pro-bar" class="pb" :style="{width: percentage}">
      <div id="pro-lab" class="prl">{{ percentage }}</div>
    </div>
  </div>
</div>